x-veld:
  chain:
    description: "xml / xslt transformation of ELTeC data"
    topics:
      - "NLP"
      - "Machine learning"
      - "tokenization"
      - "lemmatization"
      - "part of speech"
      - "dependency parsing"
      - "universal dependencies"
      - "grammatical annotation"

# define some variables here once, so that following services can reuse it
x-vars: 
  - &var_extends
    file: ./code/veld_code__xml_xslt_transformer/veld.yaml
    service: veld
  - &var_volumes
    - ./data/veld_data__eltec_original_selection/data/:/veld/input/xml/
    - ./data/xsl/:/veld/input/xsl/
    - ./data/data_tmp_txt_transformed/:/veld/output/

services:

  veld_preprocess_cze:
    extends: *var_extends
    volumes: *var_volumes
    environment:
      in_xsl_file: "transformation.xsl"
      in_xml_file: "ELTeC-cze/level1/"
      out_txt_file: "ELTeC-cze/level1/"

  veld_preprocess_deu:
    extends: *var_extends
    volumes: *var_volumes
    environment:
      in_xsl_file: "transformation.xsl"
      in_xml_file: "ELTeC-deu/level1/"
      out_txt_file: "ELTeC-deu/level1/"

  veld_preprocess_eng:
    extends: *var_extends
    volumes: *var_volumes
    environment:
      in_xsl_file: "transformation.xsl"
      in_xml_file: "ELTeC-eng/level1/"
      out_txt_file: "ELTeC-eng/level1/"

  veld_preprocess_fra:
    extends: *var_extends
    volumes: *var_volumes
    environment:
      in_xsl_file: "transformation.xsl"
      in_xml_file: "ELTeC-fra/level1/"
      out_txt_file: "ELTeC-fra/level1/"

  veld_preprocess_spa:
    extends: *var_extends
    volumes: *var_volumes
    environment:
      in_xsl_file: "transformation.xsl"
      in_xml_file: "ELTeC-spa/level1/"
      out_txt_file: "ELTeC-spa/level1/"

